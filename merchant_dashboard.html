<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merchant Dashboard - iTech Events</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo">
                <span class="logo-icon"><img src="images/logo.png" alt="iTech Studio Logo" style="height: 40px; width: auto;"></span>
                <span class="logo-text">iTech Events</span>
            </div>
            <div class="merchant-info">
                <span id="merchantName">Welcome, Merchant</span>
                <button class="btn btn-outline btn-sm" id="logoutBtn">Logout</button>
            </div>
            <div class="nav-actions-mobile">
                <button class="mobile-sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Dashboard Content -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <button class="sidebar-toggle-btn" id="sidebarToggleBtn" title="Toggle Sidebar">
                <i class="fas fa-chevron-left"></i>
            </button>
            <ul class="sidebar-menu">
                <li class="active" data-tab="overview">
                    <a href="#overview" data-label="Overview"><i class="fas fa-tachometer-alt"></i> <span class="menu-text">Overview</span></a>
                </li>
                <li data-tab="my-events">
                    <a href="#my-events" data-label="My Events"><i class="fas fa-calendar-alt"></i> <span class="menu-text">My Events</span></a>
                </li>
                <li data-tab="create-event">
                    <a href="#create-event" data-label="Create Event"><i class="fas fa-plus-circle"></i> <span class="menu-text">Create Event</span></a>
                </li>
                <li data-tab="analytics">
                    <a href="#analytics" data-label="Analytics"><i class="fas fa-chart-bar"></i> <span class="menu-text">Analytics</span></a>
                </li>
                <li data-tab="settings">
                    <a href="#settings" data-label="Settings"><i class="fas fa-cog"></i> <span class="menu-text">Settings</span></a>
                </li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Overview Tab -->
            <section id="overview" class="dashboard-tab active">
                <h2>Dashboard Overview</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-calendar-check"></i></div>
                        <div class="stat-info">
                            <span class="stat-value" id="totalEvents">0</span>
                            <span class="stat-label">Total Events</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-ticket-alt"></i></div>
                        <div class="stat-info">
                            <span class="stat-value" id="totalTickets">0</span>
                            <span class="stat-label">Tickets Sold</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-money-bill-wave"></i></div>
                        <div class="stat-info">
                            <span class="stat-value" id="totalRevenue">KSh 0</span>
                            <span class="stat-label">Total Revenue</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-eye"></i></div>
                        <div class="stat-info">
                            <span class="stat-value" id="totalViews">0</span>
                            <span class="stat-label">Event Views</span>
                        </div>
                    </div>
                </div>

                <div class="recent-activity">
                    <h3>Recent Activity</h3>
                    <div class="activity-list" id="activityList">
                        <p class="no-data">No recent activity</p>
                    </div>
                </div>
            </section>

            <!-- My Events Tab -->
            <section id="my-events" class="dashboard-tab">
                <div class="events-list-header">
                    <div>
                        <h2>My Events</h2>
                        <p>Manage your events and track performance</p>
                    </div>
                    <button class="btn btn-primary" id="createEventBtn">
                        <i class="fas fa-plus"></i> Create New Event
                    </button>
                </div>
                <div class="events-filter">
                    <select id="eventStatusFilter" class="filter-select">
                        <option value="all">All Events</option>
                        <option value="published">Published</option>
                        <option value="draft">Draft</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                    <input type="text" id="eventSearch" placeholder="Search events..." class="search-input">
                </div>
                <div class="events-list" id="merchantEventsList">
                    <div class="loading-spinner">
                        <i class="fas fa-spinner fa-spin"></i> Loading events...
                    </div>
                </div>
            </section>

            <!-- Create Event Tab -->
            <section id="create-event" class="dashboard-tab">
                <h2>Create New Event</h2>
                <form id="createEventForm" class="event-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventTitle">Event Title *</label>
                            <input type="text" id="eventTitle" name="title" required placeholder="Enter event title">
                        </div>
                        <div class="form-group">
                            <label for="eventCategory">Category *</label>
                            <select id="eventCategory" name="category" required>
                                <option value="">Select Category</option>
                                <option value="music">Music</option>
                                <option value="sports">Sports</option>
                                <option value="arts">Arts & Theater</option>
                                <option value="business">Business</option>
                                <option value="food">Food & Drink</option>
                                <option value="tech">Technology</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="eventDescription">Description *</label>
                        <textarea id="eventDescription" name="description" rows="4" required placeholder="Describe your event..."></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventDate">Event Date *</label>
                            <input type="datetime-local" id="eventDate" name="eventDate" required>
                        </div>
                        <div class="form-group">
                            <label for="venueName">Venue Name *</label>
                            <input type="text" id="venueName" name="venueName" required placeholder="Enter venue name">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="standardPrice">Standard Ticket Price (KSh) *</label>
                            <input type="number" id="standardPrice" name="standardPrice" required min="0" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="vipPrice">VIP Ticket Price (KSh) *</label>
                            <input type="number" id="vipPrice" name="vipPrice" required min="0" placeholder="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="eventImage">Image URL (optional)</label>
                        <input type="url" id="eventImage" name="imageUrl" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-large">
                            <i class="fas fa-plus"></i> Create Event
                        </button>
                        <button type="reset" class="btn btn-outline btn-large">Clear Form</button>
                    </div>
                </form>
            </section>

            <!-- Analytics Tab -->
            <section id="analytics" class="dashboard-tab">
                <h2>Event Analytics</h2>
                <div class="analytics-grid">
                    <div class="chart-card">
                        <h3>Tickets Sold by Event</h3>
                        <div class="chart-container" id="ticketsChart">
                            <p class="no-data">No data available</p>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Revenue by Event</h3>
                        <div class="chart-container" id="revenueChart">
                            <p class="no-data">No data available</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Tab -->
            <section id="settings" class="dashboard-tab">
                <h2>Account Settings</h2>
                <div class="settings-card">
                    <h3>Profile Information</h3>
                    <form id="profileForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profileName">Full Name</label>
                                <input type="text" id="profileName" name="fullName" readonly>
                            </div>
                            <div class="form-group">
                                <label for="profileEmail">Email</label>
                                <input type="email" id="profileEmail" name="email" readonly>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profilePhone">Phone</label>
                                <input type="tel" id="profilePhone" name="phone" readonly>
                            </div>
                            <div class="form-group">
                                <label for="profileCompany">Company Name</label>
                                <input type="text" id="profileCompany" name="companyName" readonly>
                            </div>
                        </div>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <!-- Edit Event Modal -->
    <div id="editEventModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2><i class="fas fa-edit"></i> Edit Event</h2>
            <form id="editEventForm">
                <input type="hidden" id="editEventId" name="eventId">
                <div class="form-group">
                    <label for="editEventTitle">Event Title *</label>
                    <input type="text" id="editEventTitle" name="title" required>
                </div>
                <div class="form-group">
                    <label for="editEventCategory">Category *</label>
                    <select id="editEventCategory" name="category" required>
                        <option value="">Select Category</option>
                        <option value="music">Music</option>
                        <option value="sports">Sports</option>
                        <option value="arts">Arts & Theater</option>
                        <option value="business">Business</option>
                        <option value="food">Food & Drink</option>
                        <option value="tech">Technology</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editEventDescription">Description *</label>
                    <textarea id="editEventDescription" name="description" rows="3" required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="editEventDate">Event Date *</label>
                        <input type="datetime-local" id="editEventDate" name="eventDate" required>
                    </div>
                    <div class="form-group">
                        <label for="editVenueName">Venue Name *</label>
                        <input type="text" id="editVenueName" name="venueName" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="editStandardPrice">Standard Price (KSh) *</label>
                        <input type="number" id="editStandardPrice" name="standardPrice" required min="0">
                    </div>
                    <div class="form-group">
                        <label for="editVipPrice">VIP Price (KSh) *</label>
                        <input type="number" id="editVipPrice" name="vipPrice" required min="0">
                    </div>
                </div>
                <div class="form-group">
                    <label for="editEventStatus">Status</label>
                    <select id="editEventStatus" name="status">
                        <option value="published">Published</option>
                        <option value="draft">Draft</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary btn-full">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteConfirmModal" class="modal">
        <div class="modal-content modal-small">
            <span class="close-modal">&times;</span>
            <div class="delete-confirm-content">
                <div class="delete-icon"><i class="fas fa-exclamation-triangle"></i></div>
                <h2>Delete Event?</h2>
                <p>Are you sure you want to delete this event? This action cannot be undone.</p>
                <input type="hidden" id="deleteEventId">
                <div class="delete-actions">
                    <button class="btn btn-outline btn-full" id="cancelDeleteBtn">Cancel</button>
                    <button class="btn btn-danger btn-full" id="confirmDeleteBtn">
                        <i class="fas fa-trash"></i> Delete Event
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <span class="toast-message"></span>
    </div>

    <script src="merchant_dashboard.js"></script>
</body>
</html>
